# WebHTC v2.0 - –°–ø–∏—Å–æ–∫ —É–ª—É—á—à–µ–Ω–∏–π

## üéØ –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–≠—Ç–∞ –≤–µ—Ä—Å–∏—è –≤–∫–ª—é—á–∞–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π WebHTC.

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Logging)**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –≤ `webhtc.log`
- –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: INFO, WARNING, ERROR, DEBUG
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏, –∫–∞–º–µ—Ä—ã –∏ —Ç—Ä–µ–∫–∏–Ω–≥–∞

**–§–∞–π–ª:** `core/tracking_engine.py`

---

### 2. **–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ (Hotkeys)**
| –ö–ª–∞–≤–∏—à–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| `Space` | –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ç—Ä–µ–∫–∏–Ω–≥ |
| `C` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–ª–∏–±—Ä–æ–≤–∫—É |
| `R` | –°–±—Ä–æ—Å–∏—Ç—å –∫–∞–ª–∏–±—Ä–æ–≤–∫—É |
| `Ctrl+Q` | –í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `F` | –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º Overlay |
| `H` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–ª–∞–≤–∏—à–∞–º |

**–§–∞–π–ª:** `ui/tracking.py`

---

### 3. **Camera Watchdog (–ê–≤—Ç–æ—Å—Ç–∞—Ä—Ç –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–∏–≥–Ω–∞–ª–∞)**
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–∞–º–µ—Ä—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–∏–≥–Ω–∞–ª–∞
- –î–æ 3 –ø–æ–ø—ã—Ç–æ–∫ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 2 —Å–µ–∫—É–Ω–¥—ã
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª—å –æ —Å—Ç–∞—Ç—É—Å–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–§–∞–π–ª:** `core/tracking_engine.py` (–∫–ª–∞—Å—Å `CameraWatchdog`)

---

### 4. **–ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- –ü—Ä–æ—Ñ–∏–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `profiles/`
- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `default`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞ –∫–∞–∫ –ø—Ä–æ—Ñ–∏–ª—å
cfg.save_profile("sitting")
cfg.save_profile("standing")
cfg.save_profile("room_scale")

# –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
cfg.load_profile("sitting")
```

**–§–∞–π–ª:** `core/config_manager.py`

---

### 5. **–¢—Ä–µ–∫–∏–Ω–≥ –Ω–æ–≥ (–ö–æ–ª–µ–Ω–∏ –∏ –ë—ë–¥—Ä–∞)**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–µ–∫–∏–Ω–≥–∞ –∫–æ–ª–µ–Ω–µ–π (landmarks 25, 26)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–µ–∫–∏–Ω–≥–∞ –±—ë–¥–µ—Ä (landmarks 23, 24)
- –û–ø—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –ù–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã —Ç—Ä–µ–∫–µ—Ä–æ–≤ VMT

**–§–∞–π–ª:** `core/tracking_engine.py`

---

### 6. **–≠–∫—Å–ø–æ—Ä—Ç/–ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
- –≠–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ JSON-—Ñ–∞–π–ª
- –ò–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ JSON-—Ñ–∞–π–ª–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
- –ö–Ω–æ–ø–∫–∏ –≤ UI –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞/–∏–º–ø–æ—Ä—Ç–∞

**–§–∞–π–ª:** `core/config_manager.py`

---

### 7. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–∫–µ—Ä–æ–≤ (–û–≤–µ—Ä–ª–µ–π X/Y/Z)**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç—Ä–µ–∫–µ—Ä–æ–≤
- –ì—Ä–∞—Ñ–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç—Ä–µ–∫–∏–Ω–≥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- FPS –º–µ—Ç—Ä–∏–∫–∞
- Confidence –º–µ—Ç—Ä–∏–∫–∞

**–§–∞–π–ª:** `ui/tracking.py` (–∫–ª–∞—Å—Å `QualityGraph`)

---

### 8. **–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π Overlay —Ä–µ–∂–∏–º**
- –†–µ–∂–∏–º "–≤—Å–µ–≥–¥–∞ –ø–æ–≤–µ—Ä—Ö –æ–∫–æ–Ω" (Always on Top)
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∞–≤–∏—à–µ–π `F`
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –∏ –∑–∞–ø–∏—Å–∏

**–§–∞–π–ª:** `ui/tracking.py`

---

### 9. **–ì—Ä–∞—Ñ–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç—Ä–µ–∫–∏–Ω–≥–∞**
- –ì—Ä–∞—Ñ–∏–∫ FPS –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ì—Ä–∞—Ñ–∏–∫ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –¥–µ—Ç–µ–∫—Ü–∏–∏ (Confidence)
- –°–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ 60 –∫–∞–¥—Ä–æ–≤
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –æ–∫–Ω–µ

**–§–∞–π–ª:** `ui/tracking.py` (–∫–ª–∞—Å—Å `TrackingQualityMonitor`)

---

### 10. **–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ç–æ–∫–∏:
  - –ó–∞—Ö–≤–∞—Ç –∫–∞–º–µ—Ä—ã
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ MediaPipe
  - –û—Ç–ø—Ä–∞–≤–∫–∞ OSC/VMT
  - –†–µ–Ω–¥–µ—Ä UI
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–§–∞–π–ª:** `core/tracking_engine.py`

---

### 11. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ VMC Protocol**
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ VMT –¥–ª—è VRChat
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –∫–æ–Ω—Ñ–∏–≥–µ:
```json
"network": {
    "use_vmc": true,
    "vmc_ip": "127.0.0.1",
    "vmc_port": 39580
}
```

**–§–∞–π–ª:** `core/tracking_engine.py`

---

### 12. **System Tray –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
- –°–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç—Ä–µ–π
- –†–∞–±–æ—Ç–∞ –≤ —Ñ–æ–Ω–µ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –≤ —Ç—Ä–µ–µ

**–§–∞–π–ª:** `ui/tracking.py`

---

### 13. **Crash Reporter**
- –ü–µ—Ä–µ—Ö–≤–∞—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤ –æ —Å–±–æ—è—Ö
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–ø–∫—É `crash_reports/`
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–µ –∏ traceback

**–§–∞–π–ª:** `core/crash_handler.py`

---

## üìÅ –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

```
WebHTC/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ crash_handler.py      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–±–æ–µ–≤
‚îÇ   ‚îî‚îÄ‚îÄ tracking_engine.py    # –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –¥–≤–∏–∂–æ–∫
‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îî‚îÄ‚îÄ tracking.py           # –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π UI
‚îú‚îÄ‚îÄ profiles/                  # –ü–∞–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π
‚îú‚îÄ‚îÄ crash_reports/             # –ü–∞–ø–∫–∞ –æ—Ç—á—ë—Ç–æ–≤ –æ —Å–±–æ—è—Ö
‚îú‚îÄ‚îÄ webhtc.log                 # –õ–æ–≥ —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ IMPROVEMENTS.md            # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### –ó–∞–ø—É—Å–∫
```bash
python main.py
```

### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
- –ù–∞–∂–º–∏—Ç–µ `H` –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å–ø—Ä–∞–≤–∫–∏ –ø–æ –∫–ª–∞–≤–∏—à–∞–º

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

| –§—É–Ω–∫—Ü–∏—è | v1.0 | v2.0 |
|---------|------|------|
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚ùå | ‚úÖ |
| –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ | ‚ùå | ‚úÖ |
| Camera Watchdog | ‚ùå | ‚úÖ |
| –ü—Ä–æ—Ñ–∏–ª–∏ | ‚ùå | ‚úÖ |
| –¢—Ä–µ–∫–∏–Ω–≥ –∫–æ–ª–µ–Ω–µ–π | ‚ùå | ‚úÖ |
| –¢—Ä–µ–∫–∏–Ω–≥ –±—ë–¥–µ—Ä | ‚ùå | ‚úÖ |
| –≠–∫—Å–ø–æ—Ä—Ç/–ò–º–ø–æ—Ä—Ç | ‚ùå | ‚úÖ |
| –ì—Ä–∞—Ñ–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ | ‚ùå | ‚úÖ |
| Overlay —Ä–µ–∂–∏–º | ‚ùå | ‚úÖ |
| System Tray | ‚ùå | ‚úÖ |
| Crash Reporter | ‚ùå | ‚úÖ |
| VMC Protocol | ‚ùå | ‚úÖ |

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–æ–≤—ã–µ –æ–ø—Ü–∏–∏ –≤ `webhtc_config.json`

```json
{
    "network": {
        "use_vmc": false,
        "vmc_ip": "127.0.0.1",
        "vmc_port": 39580
    },
    "trackers": {
        "enable_knees": false,
        "enable_hips": false,
        "enable_feet": false
    },
    "visuals": {
        "overlay_mode": false,
        "show_tracker_overlay": true
    },
    "system": {
        "minimize_to_tray": true,
        "auto_start": true
    }
}
```

---

## üìù Changelog

### v2.0 - Major Update
- –î–æ–±–∞–≤–ª–µ–Ω–æ 13 –∫—Ä—É–ø–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π
- –£–ª—É—á—à–µ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å
- –†–∞—Å—à–∏—Ä–µ–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ç—Ä–µ–∫–∏–Ω–≥–∞
- –£–ª—É—á—à–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –¥–æ—Ä–∞–±–æ—Ç–∫–∏. Feel free to submit pull requests!

**License**: MIT
